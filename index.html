<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>墨见千年</title>
  <meta name="description" content="千年墨香，与你隔屏相逢" />
  <style>
    /* ========= 主题变量：古风·宣纸·朱砂 ========= */
    :root{
      --ink: #153b3b;               /* 墨色（主色） */
      --paper: #f7f1e3;             /* 宣纸底 */
      --paper-edge: #e6dcc8;        /* 宣纸边 */
      --cinnabar: #0f947e;          /* 朱砂点缀 */
      --text: #2b2b2b;
      --muted: #6b6b6b;
      --shadow: rgba(0,0,0,.08);
      --card: #fffdf7;
    }

    /* ========= 基础重置 ========= */
    *,*::before,*::after{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      color:var(--text);
      line-height:1.65;
      /* 尽量使用本地可用中文字体：楷体/宋体优先，避免外链失败导致回退太难看 */
      font-family: "STKaiti","KaiTi","Kaiti SC","Songti SC","SimSun","Source Han Serif SC","Noto Serif SC",serif;
      /* 宣纸纹理：两层点阵 + 渐变 */
      background:
        radial-gradient(rgba(0,0,0,.015) 1px, transparent 1px) 0 0/12px 12px,
        radial-gradient(rgba(0,0,0,.02) 1px, transparent 1px) 6px 6px/12px 12px,
        linear-gradient(180deg, #faf6ed, var(--paper) 60%, #f5ead7);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .container{ max-width: 1100px; margin: 0 auto; padding: 2rem 1.25rem; }

    /* ========= 站点头部：墨绿到青的晕染，叠加祥云细纹 ========= */
    .site-header{
      position: relative;
      text-align: center;
      padding: 2.25rem 1rem;
      color: #fff;
      background:
        radial-gradient(ellipse at top left, rgba(255,255,255,.08), transparent 55%),
        radial-gradient(ellipse at bottom right, rgba(0,0,0,.08), transparent 55%),
        linear-gradient(135deg, #275858, #2f6464);
      box-shadow: 0 6px 14px var(--shadow);
      overflow: hidden;
    }
    .site-header::after{
      /* 轻微祥云网纹（内联SVG），叠加微光 */
      content:"";
      position:absolute; inset:0;
      background-image:
        radial-gradient(closest-side, rgba(255,255,255,.05), transparent),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><g fill="none" stroke="%23ffffff22" stroke-width="1.2"><path d="M10 30c10-15 20-15 30 0s20 15 30 0 20-15 30 0 20 15 30 0"/></g></svg>');
      background-repeat: repeat;
      background-size: 40px 40px, 140px 140px;
      mix-blend-mode: overlay;
      pointer-events: none;
      opacity: .5;
    }
    .site-title{
      margin:0 0 .35rem;
      font-weight: 600;
      letter-spacing: .08em;
      font-size: clamp(24px, 4vw, 34px);
      /* 书卷感：楷体优先，退化到宋体/衬线 */
      font-family: "STKaiti","KaiTi","Kaiti SC","Songti SC","SimSun",serif;
    }
    .subtitle{
      margin:0;
      opacity:.95;
      letter-spacing: .15em;
      font-size: .98rem;
      text-shadow: 0 1px 0 rgba(0,0,0,.08);
    }

    /* ========= 搜索区：卡片+左侧朱砂书脊 ========= */
    .search-section{
      position: relative;
      background: var(--card);
      padding: 1.25rem;
      border-radius: 12px;
      border: 1px solid var(--paper-edge);
      box-shadow: 0 6px 14px var(--shadow);
      margin: 2rem 0 1.5rem;
    }
    .search-section::before{
      content:"";
      position:absolute; left:0; top:0; bottom:0; width:6px;
      background: linear-gradient(180deg, #c85858, var(--cinnabar));
      border-top-left-radius: 12px; border-bottom-left-radius: 12px;
    }
    .search-controls{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
      gap: 1rem;
      margin-bottom: .75rem;
    }
    .control-group{ display:flex; flex-direction:column; }
    label{
      font-weight:600; margin-bottom:.4rem; color: var(--ink); font-size:.95rem;
      letter-spacing:.06em
    }
    input,select,button{
      padding:.7rem .8rem; font-size:1rem;
      border:1px solid var(--paper-edge);
      border-radius:8px; background:#fffdfb;
      transition: box-shadow .2s ease, border-color .2s ease, transform .15s ease;
    }
    input:focus,select:focus{
      outline:none;
      border-color: var(--cinnabar);
      box-shadow: 0 0 0 3px rgba(179,58,58,.12);
    }
    .buttons{
      display:flex; gap:.8rem; flex-wrap:wrap; justify-content:center; margin-top:.25rem;
    }
    button{
      background: var(--cinnabar); color:#fff; border:none; cursor:pointer; font-weight:600;
      padding:.7rem 1.25rem; border-radius: 999px;
      box-shadow: 0 6px 12px var(--shadow);
      transform: translateZ(0);
    }
    button:hover{ transform: translateY(-2px); }
    button.secondary{ background: var(--ink); }
    button.secondary:hover{ filter: brightness(1.08); }

    /* ========= 诗歌卡片：宣纸+角花 ========= */
    .poetry-card{
      position:relative;
      background: var(--card);
      padding: 2rem 1.5rem 1.5rem;
      border-radius: 14px;
      border: 1px solid var(--paper-edge);
      box-shadow: 0 10px 18px var(--shadow);
      overflow:hidden;
    }
    /* 角花：四个小L形 */
    .corner{ position:absolute; width:20px; height:20px; border:2px solid var(--cinnabar); }
    .tl{ top:10px; left:10px; border-right:none; border-bottom:none; border-radius: 6px 0 0 0; }
    .tr{ top:10px; right:10px; border-left:none; border-bottom:none; border-radius: 0 6px 0 0; }
    .bl{ bottom:10px; left:10px; border-right:none; border-top:none; border-radius: 0 0 0 6px; }
    .br{ bottom:10px; right:10px; border-left:none; border-top:none; border-radius: 0 0 6px 0; }

    .poetry-header{
      border-bottom: 1px dashed var(--paper-edge);
      padding-bottom: .9rem;
      margin-bottom: 1.2rem;
    }
    .title-bilingual,.author-bilingual{ margin-bottom: .5rem; }
    .title-bilingual{
      font-weight:700; color: var(--ink);
      font-size: clamp(18px, 2.2vw, 22px);
      letter-spacing: .06em;
    }
    .author-bilingual{
      color: var(--cinnabar); font-style: italic;
      font-size: 1rem;
    }
    .label{ font-weight:600; color: var(--muted); margin-right:.35rem; }

    .poetry-content{ margin-top: 1rem; }
    .line-pair{ margin-bottom:.7rem; opacity:0; animation: fadeIn .5s ease forwards; }
    .english-line{ font-weight:600; color: var(--text); margin-bottom:.18rem; font-size:1.05rem; }
    .chinese-line{ color: var(--muted); margin-left: 1rem; font-style: italic; font-size:1rem; }

    @keyframes fadeIn{
      from{ opacity:0; transform: translateY(8px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .poetry-meta{
      margin-top: 1.1rem; padding-top:.8rem; border-top: 1px dashed var(--paper-edge);
      display:flex; flex-wrap:wrap; gap:.6rem; font-size:.92rem; color:var(--muted);
    }
    .meta-item{
      background: #f2e9d7;
      padding:.25rem .7rem; border-radius: 999px;
      border:1px solid var(--paper-edge);
    }

    .actions{ display:flex; justify-content:flex-end; margin-top:.6rem; }
    .copy-button{
      background: transparent; color: var(--ink);
      border:1px solid var(--paper-edge);
      padding:.5rem .8rem; font-size:.95rem; border-radius: 8px;
    }
    .copy-button:hover{ background:#f6efe2; }

    /* ========= 关于区 ========= */
    .about-section{
      background: var(--card);
      padding: 1.4rem;
      border-radius: 12px;
      border: 1px solid var(--paper-edge);
      box-shadow: 0 6px 14px var(--shadow);
      margin-top: 1.2rem;
    }
    .about-section h2{
      color: var(--ink); margin:0 0 .6rem; font-size:1.25rem;
      letter-spacing:.08em
    }
    .about-section p{ margin:.5rem 0; }

    /* ========= 页脚 ========= */
    footer{
      text-align:center; padding: 1.6rem 1rem; color:#fff;
      background: linear-gradient(135deg, #2f4f4f, #395f5f);
      margin-top: 2rem;
    }
    footer p{ opacity:.9; font-size:.95rem; margin:0; letter-spacing:.05em }

    /* ========= Toast（状态提示） ========= */
    .toast{
      position: fixed; left:50%; bottom: 24px; transform: translateX(-50%) translateY(20px);
      background: rgba(0,0,0,.75); color:#fff; padding:.55rem .9rem; border-radius: 8px;
      font-size: .95rem; opacity:0; pointer-events:none; transition: all .25s ease; z-index: 9999;
    }
    .toast.show{ opacity:1; transform: translateX(-50%) translateY(0); }

    /* ========= 响应式 ========= */
    @media (max-width: 768px){
      .container{ padding: 1.2rem .9rem; }
      .poetry-card{ padding: 1.4rem 1rem 1rem; }
      .english-line{ font-size: 1rem; }
      .chinese-line{ margin-left:.6rem; }
    }

    /* ========= 低动效偏好 ========= */
    @media (prefers-reduced-motion: reduce){
      .line-pair{ animation: none; opacity:1; }
      button:hover{ transform:none; }
      .toast{ transition:none; }
    }
  /* === 现代·新中式·极简皮肤（覆盖原样式）=== */
/* 配色更克制：墨黑 + 赤金 + 米白 */
:root{
  --ink: #111827;         /* 墨黑（主） */
  --cinnabar: #c8a86b;    /* 赤金（点缀，替代大红） */
  --paper: #faf9f6;       /* 米白（背景） */
  --paper-edge: #ece7db;  /* 细边 */
  --muted: #6b7280;       /* 次要文字 */
  --card: #ffffff;        /* 卡片白 */
  --shadow: rgba(0,0,0,.06); /* 更轻的阴影 */
}

/* 1) 全局：去纹理，UI 用无衬线；诗文保留衬线质感 */
body{
  background: var(--paper) !important; /* 覆盖原来的宣纸纹理 */
  font-family: system-ui,-apple-system,"SF Pro SC","PingFang SC","Microsoft YaHei",
               "Noto Sans SC","Source Han Sans SC",Arial,sans-serif !important;
}
/* 诗歌标题/正文仍用衬线，保留“文气” */
.title-bilingual,.poetry-content{
  font-family: "Source Han Serif SC","Noto Serif SC","Songti SC","SimSun",serif !important;
}

/* 2) 顶部：白底细边，去祥云叠层与浓阴影 */
.site-header{
  background:#1a8a85 !important; color: var(--ink) !important;
  box-shadow:none !important; border-bottom:1px solid var(--paper-edge) !important;
}
.site-header::after{ display:none !important; }
.site-title{ letter-spacing:.02em !important; }
.subtitle{ opacity:.7 !important; letter-spacing:.04em !important; text-shadow:none !important; }

/* 3) 卡片：去书脊/角花，轻描边+轻阴影 */
.search-section,.poetry-card,.about-section{
  border:1px solid var(--paper-edge) !important;
  box-shadow:0 1px 3px var(--shadow) !important;
  border-radius:12px !important;
}
.search-section::before{ display:none !important; } /* 关掉左侧书脊 */
.corner{ display:none !important; }                /* 关掉角花 */

/* 4) 表单与按钮：扁平/描边风格，减少动效 */
input,select{
  background:#fff !important; border:1px solid #e7e3d8 !important; border-radius:10px !important;
}
button{
  border-radius:10px !important; padding:.6rem 1rem !important;
  background: var(--ink) !important; color:#fff !important; box-shadow:none !important;
}
button.secondary{
  background:#fff !important; color: var(--ink) !important;
  border:1px solid #ddd7c6 !important;
}
button:hover{ transform:none !important; filter:brightness(1.02) !important; }

/* 5) 文案层级：更清爽的字号与留白，去掉逐行动画 */
.title-bilingual{ font-weight:600 !important; font-size:clamp(20px,2.2vw,24px) !important; }
.author-bilingual{ color:var(--muted) !important; font-style:normal !important; }
.poetry-header{ border-bottom:1px solid var(--paper-edge) !important; }
.english-line{ font-size:1.08rem !important; line-height:1.8 !important; }
.chinese-line{ font-size:1.02rem !important; color:#4b5563 !important; margin-left:0 !important; opacity:.95 !important; }
.line-pair{ animation:none !important; opacity:1 !important; } /* 更静态、更现代 */
.poetry-meta .meta-item{ background:#faf7f0 !important; border:1px solid var(--paper-edge) !important; }

/* 6) 小细节：统一圆角 */
.toast{ border-radius:10px !important; }
@media (max-width:768px){ .poetry-card{ padding:1.2rem !important; } }

  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <h1 class="site-title">墨见千年</h1>
    <p class="subtitle">千年墨香，与你隔屏相逢</p>
  </header>

  <main class="container" id="app">
    <!-- 搜索与筛选 -->
    <section class="search-section" aria-label="筛选条件">
      <div class="search-controls">
        <div class="control-group">
          <label for="search-term">搜索关键词</label>
          <input type="text" id="search-term" placeholder="输入诗人、诗名或内容..." autocomplete="off" />
        </div>
        <div class="control-group">
          <label for="poetry-type">诗歌类型</label>
          <select id="poetry-type">
            <option value="">全部类型</option>
            <option value="爱情">爱情</option>
            <option value="自然">自然</option>
            <option value="人生哲理">人生哲理</option>
            <option value="思乡">思乡</option>
            <option value="自由">自由</option>
            <option value="战争">战争</option>
            <option value="励志">励志</option>
            <option value="历史">历史</option>
            <option value="宗教与灵性">宗教与灵性</option>
</select>

          </select>
        </div>
        <div class="control-group">
          <label for="author-country">诗人国籍</label>
          <select id="author-country">
          <option value="">全部国籍</option>
          <option value="日本">日本</option>
          <option value="俄罗斯">俄罗斯</option>
          <option value="英国">英国</option>
          <option value="美国">美国</option>
          <option value="爱尔兰">爱尔兰</option>
          <option value="法国">法国</option>
          <option value="加拿大">加拿大</option>
          <option value="澳大利亚">澳大利亚</option>
          <option value="新西兰">新西兰</option>
          <option value="印度">印度</option>
          <option value="伊朗">伊朗</option>
</select>

          </select>
        </div>
        <div class="control-group">
          <label for="poetry-length">诗歌长度</label>
          <select id="poetry-length">
            <option value="">全部长度</option>
            <option value="short">短诗（≤12行）</option>
            <option value="medium">中等长度（13-24行）</option>
            <option value="long">长诗（≥25行）</option>
          </select>
        </div>
      </div>

      <div class="buttons">
        <button id="random-button" type="button" aria-label="随机选择一首诗">随机来一首</button>
        <button id="search-button" type="button" class="secondary" aria-label="执行搜索">搜索</button>
        <button id="clear-button" type="button" class="secondary" aria-label="清除筛选条件">清除筛选</button>
        <button id="import-button" type="button" class="secondary">导入诗库</button>
        <button id="export-button" type="button" class="secondary">导出诗库</button>
<input id="import-file" type="file" accept="application/json,.json" hidden>

      </div>
    </section>

    <!-- 诗歌展示 -->
    <section class="poetry-section" id="poetry-section" aria-live="polite">
      <article class="poetry-card" id="poetry-card">
        <span class="corner tl" aria-hidden="true"></span>
        <span class="corner tr" aria-hidden="true"></span>
        <span class="corner bl" aria-hidden="true"></span>
        <span class="corner br" aria-hidden="true"></span>

        <div class="poetry-header">
          <h2 class="title-bilingual">
            <span class="label">诗名双语｜</span>
            <span id="poem-title-en"></span> ｜ <span id="poem-title-zh"></span>
          </h2>
          <div class="author-bilingual">
            <span class="label">作者双语｜</span>
            <span id="poem-author-en"></span> ｜ <span id="poem-author-zh"></span>
          </div>
        </div>

        <div class="poetry-content" id="poetry-content"><!-- 动态生成 --></div>
        <div class="poetry-meta" id="poetry-meta"><!-- 动态生成 --></div>

        <div class="actions">
          <button class="copy-button" id="copy-button" type="button" aria-label="复制诗歌">复制诗歌</button>
        </div>
      </article>
    </section>

    <section class="about-section">
      <h2>关于本网站</h2>
      <p>本网站致力于分享世界经典英文诗歌，为诗歌爱好者提供一个欣赏与探索的平台。</p>
      <p>我们精选莎士比亚、雪莱、狄金森、弗罗斯特等名家作品，提供权威中文译本的逐句对照，便于学习与欣赏。</p>
      <p>你可随机浏览，也可通过搜索与筛选定位到喜欢的主题、风格或诗人。</p>
    </section>
  </main>

  <footer>
    <p>© <span id="year"></span> 墨未干，诗已远，只剩你与ta隔水相望，同听一声更鼓</p>
  </footer>

  <!-- 轻量状态提示 -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // ========== 数据库 ==========
    const poetryDatabase = [
      {
        id: 1,
        title: { en: "Sonnet 18", zh: "十四行诗第18首" },
        author: { en: "William Shakespeare", zh: "威廉·莎士比亚" },
        country: "英国",
        type: ["爱情", "人生哲理"],
        content: [
          ["Shall I compare thee to a summer's day?", "我怎能将你比作夏日？"],
          ["Thou art more lovely and more temperate.", "你更可爱，也更温婉。"],
          ["Rough winds do shake the darling buds of May,", "狂风会把五月的娇蕊摧残，"],
          ["And summer's lease hath all too short a date.", "夏日租约也转瞬即满。"],
          ["Sometime too hot the eye of heaven shines,", "有时天眼如炬光芒太烈，"],
          ["And often is his gold complexion dimmed;", "常常又遮起金色的容颜；"],
          ["And every fair from fair sometime declines,", "一切美好终会凋残或湮灭，"],
          ["By chance or nature's changing course untrimmed;", "偶遇或自然变化使之这般；"],
          ["But thy eternal summer shall not fade,", "但你的永恒夏日不会消退，"],
          ["Nor lose possession of that fair thou ow'st;", "你的美也不会就此消散；"],
          ["Nor shall Death brag thou wander'st in his shade,", "死神也不敢夸口将你幽禁，"],
          ["When in eternal lines to time thou grow'st:", "当你在永恒诗行中与时共长："],
          ["So long as men can breathe or eyes can see,", "只要人类还在呼吸，眼睛还在看，"],
          ["So long lives this, and this gives life to thee.", "这首诗就活着，使你的生命延续。"]
        ]
      },
      {
        id: 2,
        title: { en: "The Road Not Taken", zh: "未选择的路" },
        author: { en: "Robert Frost", zh: "罗伯特·弗罗斯特" },
        country: "美国",
        type: ["人生哲理", "自由"],
        content: [
          ["Two roads diverged in a yellow wood,", "黄色的林子里有两条路，"],
          ["And sorry I could not travel both", "可惜我不能同时去涉足，"],
          ["And be one traveler, long I stood", "我久久伫立，作为一个旅人，"],
          ["And looked down one as far as I could", "极目望去，一条路蜿蜒向前，"],
          ["To where it bent in the undergrowth;", "消失在丛林深处。"],
          ["Then took the other, as just as fair,", "然后我选择了另一条路，同样宜人，"],
          ["And having perhaps the better claim,", "或许更值得选择，"],
          ["Because it was grassy and wanted wear;", "因为它荒草丛生，人迹罕至；"],
          ["Though as for that the passing there", "虽然在这两条小路上，"],
          ["Had worn them really about the same,", "实际上已被踩踏得差不多，"],
          ["And both that morning equally lay", "那天清晨两条路都铺满落叶，"],
          ["In leaves no step had trodden black.", "尚未有脚步把它们踩黑。"],
          ["Oh, I kept the first for another day!", "啊，我把第一条路留给他日！"],
          ["Yet knowing how way leads on to way,", "但我知道路径绵延无尽头，"],
          ["I doubted if I should ever come back.", "恐怕我难以再重返旧地。"],
          ["I shall be telling this with a sigh", "也许在多年后的某个时刻，"],
          ["Somewhere ages and ages hence:", "我会轻声叹息着讲述这一切："],
          ["Two roads diverged in a wood, and I—", "林子里分出两条路，而我——"],
          ["I took the one less traveled by,", "我选择了人迹更少的一条，"],
          ["And that has made all the difference.", "从此决定了我一生的道路。"]
        ]
      },
      {
        id: 3,
        title: { en: "Ode to the West Wind", zh: "西风颂" },
        author: { en: "Percy Bysshe Shelley", zh: "珀西·比希·雪莱" },
        country: "英国",
        type: ["自然", "自由"],
        content: [
          ["O wild West Wind, thou breath of Autumn's being,", "哦，狂野的西风，你是秋日的气息，"],
          ["Thou, from whose unseen presence the leaves dead", "你无形地驱走残叶，"],
          ["Are driven, like ghosts from an enchanter fleeing,", "像巫师驱使的群鬼纷纷逃避，"],
          ["Yellow, and black, and pale, and hectic red,", "黄的，黑的，苍白的，惨红的，"],
          ["Pestilence-stricken multitudes: O thou,", "这些染上瘟疫的无数尸体：哦，你，"],
          ["Who chariotest to their dark wintry bed", "你把它们驱赶到黑暗的冬床，"],
          ["The winged seeds, where they lie cold and low,", "那些带翅的种子，躺在那里又冷又低，"],
          ["Each like a corpse within its grave, until", "每粒都像坟墓中的尸体，直到，"],
          ["Thine azure sister of the Spring shall blow", "春天的碧空姐妹为它们吹起号角，"],
          ["Her clarion o'er the dreaming earth, and fill", "掠过沉睡的大地，使它们苏醒，"],
          ["(Driving sweet buds like flocks to feed in air)", "（催发嫩芽如群羊在空中觅食）"],
          ["With living hues and odours plain and hill:—", "将平原和山峦充满生命的色彩和芬芳：——"]
        ]
      },
      {
        id: 4,
        title: { en: "Because I could not stop for Death", zh: "因为我不能停下来等待死神" },
        author: { en: "Emily Dickinson", zh: "艾米莉·狄金森" },
        country: "美国",
        type: ["人生哲理"],
        content: [
          ["Because I could not stop for Death,—", "因为我不能停下来等待死神，——"],
          ["He kindly stopped for me;—", "他好意地停下来等我；——"],
          ["The Carriage held but just Ourselves—", "马车只载着我们两人——"],
          ["And Immortality.", "还有永生。"],
          ["We slowly drove, he knew no haste,", "我们缓缓行驶，他不慌不忙，"],
          ["And I had put away", "我也抛开了，"],
          ["My labor, and my leisure too,", "我的工作，我的闲暇，"],
          ["For His Civility—", "因为他彬彬有礼——"],
          ["We passed the School, where Children strove", "我们经过学校，孩子们正在课间休息，"],
          ["At Recess—in the Ring—", "在操场上打环游戏——"],
          ["We passed the Fields of Gazing Grain—", "我们经过谷物凝望着的田野——"],
          ["We passed the Setting Sun—", "我们经过落日——"]
        ]
      },
      {
        id: 5,
        title: { en: "When You Are Old", zh: "当你老了" },
        author: { en: "William Butler Yeats", zh: "威廉·巴特勒·叶芝" },
        country: "爱尔兰",
        type: ["爱情"],
        content: [
          ["When you are old and grey and full of sleep,", "当你老了，头白了，睡思昏沉，"],
          ["And nodding by the fire, take down this book,", "炉火旁打盹，请取下这部诗歌，"],
          ["And slowly read, and dream of the soft look", "慢慢读，回想你过去眼神的柔和，"],
          ["Your eyes had once, and of their shadows deep;", "回想它们昔日浓重的阴影；"],
          ["How many loved your moments of glad grace,", "多少人爱你青春欢畅的时辰，"],
          ["And loved your beauty with love false or true,", "爱慕你的美丽，假意或真心，"],
          ["But one man loved the pilgrim soul in you,", "只有一个人爱你那朝圣者的灵魂，"],
          ["And loved the sorrows of your changing face;", "爱你衰老了的脸上痛苦的皱纹；"],
          ["And bending down beside the glowing bars,", "垂下头来，在红光闪耀的炉子旁，"],
          ["Murmur, a little sadly, how Love fled", "凄然地轻轻诉说那爱情的消逝，"],
          ["And paced upon the mountains overhead", "在头顶的山上它缓缓踱着步子，"],
          ["And hid his face amid a crowd of stars.", "在一群星星中间隐藏着脸庞。"]
        ]
      },
      {
        id: 6,
        title: { en: "A Red, Red Rose", zh: "一朵红红的玫瑰" },
        author: { en: "Robert Burns", zh: "罗伯特·彭斯" },
        country: "英国",
        type: ["爱情"],
        content: [
          ["O my Luve is like a red, red rose", "啊，我的爱人像一朵红红的玫瑰，"],
          ["That's newly sprung in June;", "在六月里初开绽放；"],
          ["O my Luve is like the melodie", "啊，我的爱人像一首美妙的乐曲，"],
          ["That's sweetly played in tune.", "旋律和谐而悠扬。"],
          ["So fair art thou, my bonnie lass,", "我的好姑娘，你是如此美丽，"],
          ["So deep in luve am I;", "我是如此深爱着你；"],
          ["And I will luve thee still, my dear,", "亲爱的，我会永远爱你，"],
          ["Till a' the seas gang dry.", "直到海水都干涸。"]
        ]
      },
      {
        id: 7,
        title: { en: "I Wandered Lonely as a Cloud", zh: "我孤独地漫游，像一朵云" },
        author: { en: "William Wordsworth", zh: "威廉·华兹华斯" },
        country: "英国",
        type: ["自然"],
        content: [
          ["I wandered lonely as a cloud", "我孤独地漫游，像一朵云，"],
          ["That floats on high o'er vales and hills,", "高高地漂浮在溪谷山巅，"],
          ["When all at once I saw a crowd,", "忽然间我望见一片，"],
          ["A host, of golden daffodils;", "一大片金黄的水仙；"],
          ["Beside the lake, beneath the trees,", "在湖畔，在树下，"],
          ["Fluttering and dancing in the breeze.", "在微风中摇曳起舞。"]
        ]
      },
      {
        id: 8,
        title: { en: "Do Not Go Gentle into That Good Night", zh: "不要温和地走进那个良夜" },
        author: { en: "Dylan Thomas", zh: "狄兰·托马斯" },
        country: "英国",
        type: ["人生哲理"],
        content: [
          ["Do not go gentle into that good night,", "不要温和地走进那个良夜，"],
          ["Old age should burn and rave at close of day;", "老年应当在日暮时燃烧咆哮；"],
          ["Rage, rage against the dying of the light.", "怒斥，怒斥光明的消逝。"],
          ["Though wise men at their end know dark is right,", "虽然智慧的人临终时懂得黑暗有理，"],
          ["Because their words had forked no lightning they", "因为他们的话没有迸发出闪电，他们，"],
          ["Do not go gentle into that good night.", "也并不温和地走进那个良夜。"]
        ]
      },
      {
        id: 9,
        title: { en: "To Autumn", zh: "秋颂" },
        author: { en: "John Keats", zh: "约翰·济慈" },
        country: "英国",
        type: ["自然"],
        content: [
          ["Season of mists and mellow fruitfulness,", "雾气洋溢、果实圆熟的秋，"],
          ["Close bosom-friend of the maturing sun;", "你和成熟的太阳成为密友；"],
          ["Conspiring with him how to load and bless", "你们密谋用累累果实缀满茅屋檐下，"],
          ["With fruit the vines that round the thatch-eves run;", "让爬满的葡萄藤胀大；"],
          ["To bend with apples the moss'd cottage-trees,", "让苹果压弯农家苔绿的树枝，"],
          ["And fill all fruit with ripeness to the core;", "让所有果实都熟透到心；"]
        ]
      },
      {
        id: 10,
        title: { en: "Hope is the thing with feathers", zh: "希望是长着羽毛的东西" },
        author: { en: "Emily Dickinson", zh: "艾米莉·狄金森" },
        country: "美国",
        type: ["人生哲理"],
        content: [
          ["Hope is the thing with feathers", "希望是长着羽毛的东西，"],
          ["That perches in the soul,", "它栖息在灵魂里，"],
          ["And sings the tune without the words,", "唱着无词的歌儿，"],
          ["And never stops at all,", "永远不会停息，"],
          ["And sweetest in the gale is heard;", "暴风雨中歌声最甜美；"],
          ["And sore must be the storm", "暴风雨必然十分猛烈，"],
          ["That could abash the little bird", "才能使那小鸟惊悸，"],
          ["That kept so many warm.", "它曾让多少人感到温暖。"]
        ]
        

      }
    ];
/* ========== 扩展诗库（二）更多国家 & 诗人 ========== */
    const EXTRA_POEMS_2 = [
    {
      id: 115,
      title: { en: "O Captain! My Captain!", zh: "啊船长！我的船长！" },
      author: { en: "Walt Whitman", zh: "沃尔特·惠特曼" },
      country: "美国",
      type: ["历史","思乡"],
      content: [
        ["O Captain! my Captain! our fearful trip is done;", "啊船长！我的船长！我们惊险的航程已毕；"],
        ["The ship has weather’d every rack, the prize we sought is won;", "船穿越风暴，赢得了我们追求的奖赏；"],
        ["But O heart! heart! heart!", "但啊，我的心！我的心！我的心！"],
        ["O the bleeding drops of red,", "看那殷红的血滴，"],
        ["Where on the deck my Captain lies,", "在甲板上，我的船长长卧，"],
        ["Fallen cold and dead.", "冰冷不动，归于死亡。"]
      ]
    },
    {
      id: 116,
      title: { en: "Ode on a Grecian Urn (excerpt)", zh: "古瓷瓶颂（节选）" },
      author: { en: "John Keats", zh: "约翰·济慈" },
      country: "英国",
      type: ["历史","人生哲理","审美"],
      content: [
        ["Heard melodies are sweet, but those unheard", "可闻的旋律固然甜美，而未闻的"],
        ["Are sweeter; therefore, ye soft pipes, play on;", "更为甜美；柔笛啊，请继续无声地奏响；"],
        ["Fair youth, beneath the trees, thou canst not leave", "美少年，在树下你无法离去，"],
        ["Thy song, nor ever can those trees be bare;", "你的歌不会停，那树也永不凋零；"],
        ["'Beauty is truth, truth beauty,'—that is all", "“美即是真，真即是美”——这就是"],
        ["Ye know on earth, and all ye need to know.", "你在尘世所知、所需知道的一切。"]
      ]
    },
    {
      id: 117,
      title: { en: "Ulysses (excerpt)", zh: "尤利西斯（节选）" },
      author: { en: "Alfred, Lord Tennyson", zh: "阿尔弗雷德·丁尼生" },
      country: "英国",
      type: ["励志","自由","人生哲理"],
      content: [
        ["I cannot rest from travel: I will drink", "我不能停下旅程：我要痛饮"],
        ["Life to the lees: all times I have enjoy'd", "生命之残渣：我在一切时刻"],
        ["Greatly, have suffer'd greatly, both with those", "极尽享受，也极尽受苦，与那些"],
        ["That loved me, and alone;", "爱我之人一道，也曾独自一人；"],
        ["To strive, to seek, to find, and not to yield.", "奋斗、求索、发现——而绝不屈服。"]
      ]
    },
    {
      id: 118,
      title: { en: "Dulce et Decorum Est (excerpt)", zh: "甜蜜与光荣（节选）" },
      author: { en: "Wilfred Owen", zh: "威尔弗雷德·欧文" },
      country: "英国",
      type: ["战争","人生哲理"],
      content: [
        ["Bent double, like old beggars under sacks,", "身躯弯折，如扛麻袋的老乞丐；"],
        ["Knock-kneed, coughing like hags, we cursed through sludge,", "膝颤、剧咳如巫婆，我们在泥浆中咒骂前行，"],
        ["Gas! GAS! Quick, boys!—An ecstasy of fumbling,", "毒气！毒气！快，兄弟们！——惊慌的手忙脚乱，"],
        ["Dim through the misty panes and thick green light,", "透过朦胧镜片与浓绿之光，隐约可见，"],
        ["As under a green sea, I saw him drowning.", "仿佛在绿海之下，我看见他溺毙。"]
      ]
    },
    {
      id: 119,
      title: { en: "The Darkling Thrush", zh: "暮色中的画眉" },
      author: { en: "Thomas Hardy", zh: "托马斯·哈代" },
      country: "英国",
      type: ["自然","思乡","人生哲理"],
      content: [
        ["At once a voice arose among", "忽闻一声歌唱自"],
        ["The bleak twigs overhead,", "我头顶荒枝间升起，"],
        ["In a full-hearted evensong", "那是饱满的黄昏颂歌，"],
        ["Of joy illimited;", "喜悦无穷无尽；"],
        ["An aged thrush, frail, gaunt, and small,", "一只老画眉，瘦小衰弱，"],
        ["Had chosen thus to fling his soul", "却选择倾吐它的灵魂，"],
        ["Upon the growing gloom.", "向着渐深的昏暗。"]
      ]
    },
    {
      id: 120,
      title: { en: "Remember", zh: "请记得我" },
      author: { en: "Christina Rossetti", zh: "克里斯蒂娜·罗塞蒂" },
      country: "英国",
      type: ["爱情","思乡","人生哲理"],
      content: [
        ["Remember me when I am gone away,", "当我离去时，请记得我，"],
        ["Gone far away into the silent land;", "远行到那寂静之地；"],
        ["Better by far you should forget and smile", "你若忘却而能微笑，远胜于"],
        ["Than that you should remember and be sad.", "记得我却陷入悲哀。"]
      ]
    },
    {
      id: 121,
      title: { en: "Pied Beauty", zh: "斑斓之美" },
      author: { en: "Gerard Manley Hopkins", zh: "杰拉德·曼利·霍普金斯" },
      country: "英国",
      type: ["自然","宗教与灵性"],
      content: [
        ["Glory be to God for dappled things—", "赞美上帝创造的斑斓万物——"],
        ["For skies of couple-colour as a brindled cow;", "为双色的天空，若花斑乳牛；"],
        ["For rose-moles all in stipple upon trout that swim;", "为游鳟身上点点玫瑰斑；"],
        ["He fathers-forth whose beauty is past change:", "他衍生万物，而自身之美不变："],
        ["Praise him.", "赞美他。"]
      ]
    },
    {
      id: 122,
      title: { en: "No Coward Soul Is Mine", zh: "我并非怯懦之魂" },
      author: { en: "Emily Brontë", zh: "艾米莉·勃朗特" },
      country: "英国",
      type: ["宗教与灵性","励志"],
      content: [
        ["No coward soul is mine, no trembler in the world's storm-troubled sphere:", "我并非怯懦之魂，不在世间风暴前颤栗："],
        ["I see Heaven's glories shine, and faith shines equal, arming me from fear.", "我见天堂荣光，我的信仰同样闪耀，为我披上不惧的甲胄。"]
      ]
    },
    {
      id: 123,
      title: { en: "Song of Myself (excerpt)", zh: "自我的歌（节选）" },
      author: { en: "Walt Whitman", zh: "沃尔特·惠特曼" },
      country: "美国",
      type: ["自由","人生哲理"],
      content: [
        ["I celebrate myself, and sing myself,", "我为自己庆祝，为自己歌唱，"],
        ["And what I assume you shall assume,", "我所承担的，你也将承担，"],
        ["For every atom belonging to me as good belongs to you.", "属于我的每一个原子，同样也属于你。"]
      ]
    },
    {
      id: 124,
      title: { en: "There Will Come Soft Rains", zh: "会有温柔的雨（诗）" },
      author: { en: "Sara Teasdale", zh: "萨拉·蒂斯代尔" },
      country: "美国",
      type: ["自然","人生哲理"],
      content: [
        ["There will come soft rains and the smell of the ground,", "会有温柔的雨来，也有泥土的芬芳，"],
        ["And swallows circling with their shimmering sound;", "还有燕子盘旋，发出微光般的声响；"],
        ["And not one will know of the war, not one", "没有谁会知道那场战争，谁也不曾，"],
        ["Will care at last when it is done.", "在它结束时再去在乎。"]
      ]
    },
    {
      id: 125,
      title: { en: "I Loved You", zh: "我曾爱过你" },
      author: { en: "Alexander Pushkin", zh: "亚历山大·普希金" },
      country: "俄罗斯",
      type: ["爱情","思乡"],
      content: [
        ["I loved you: and, perhaps, I love you still,", "我曾爱过你：也许，我仍旧爱你，"],
        ["The flame, unextinguished, yet burns faint and chill;", "那火焰未灭，只是微弱而清冷；"],
        ["I loved you so sincerely, so tenderly,", "我曾那样真诚、那样温柔地爱你，"],
        ["May God grant another to love you as dearly.", "愿上帝赐福，另有人能同样深情地爱你。"]
      ]
    },
    {
      id: 126,
      title: { en: "Haiku (selected)", zh: "俳句（选）" },
      author: { en: "Matsuo Bashō", zh: "松尾芭蕉" },
      country: "日本",
      type: ["自然","人生哲理"],
      content: [
        ["An old silent pond—", "古老而寂静的池塘——"],
        ["A frog jumps into the pond,", "一只青蛙跳入水中，"],
        ["Splash! Silence again.", "扑通！又归于寂静。"],
        ["Summer grasses—", "夏草萋萋——"],
        ["All that remains", "那是武士梦的遗留，"],
        ["Of warriors' dreams.", "尽付风吹。"]
      ]
    }
  ];
/* ========== 扩展诗库（三）更多国家 & 诗人（12 首） ========== */
    const EXTRA_POEMS_3 = [
      /* 127 德国 · 歌德 */
      {
        id: 127,
        title: { en: "Wanderer's Night Song II", zh: "旅人夜歌（二）" },
        author: { en: "Johann Wolfgang von Goethe", zh: "约翰·沃尔夫冈·歌德" },
        country: "德国",
        type: ["自然","人生哲理","思乡"],
        content: [
          ["Over all the hilltops, peace;", "群山之巅，尽是宁静；"],
          ["In all the treetops you feel no breeze;", "林梢之上，几无微风；"],
          ["Birds fall silent in the woods;", "群鸟在林中缄默；"],
          ["Soon: just wait — you too shall rest.", "等一等——你也将安眠。"]
        ]
      },

      /* 128 德国 · 海涅 */
      {
        id: 128,
        title: { en: "The Lorelei (excerpt)", zh: "罗蕾莱（节选）" },
        author: { en: "Heinrich Heine", zh: "海因里希·海涅" },
        country: "德国",
        type: ["自然","历史","思乡"],
        content: [
          ["I know not what it means", "我不知这意味着什么，"],
          ["That I am so sad today;", "为何今日心绪如此悲伤；"],
          ["A legend from olden ages", "古老的传说"],
          ["Will not depart my way.", "总在心头萦回；"],
          ["The air is cool at sunset,", "日暮凉风起，"],
          ["Calm flows the Rhine below;", "莱茵静静流；"],
          ["On cliffs the maiden’s singing", "峭壁上少女歌声起，"],
          ["Becomes a fatal glow.", "化作致命的光辉。"]
        ]
      },

      /* 129 西班牙 · 贝克尔 */
      {
        id: 129,
        title: { en: "Rima XXI", zh: "韵诗二十一" },
        author: { en: "Gustavo Adolfo Bécquer", zh: "古斯塔沃·阿道夫·贝克尔" },
        country: "西班牙",
        type: ["爱情","审美","人生哲理"],
        content: [
          ["“What is poetry?” you ask,", "“什么是诗？”你问，"],
          ["While your eyes pierce into mine.", "你把目光直刺进我的眼睛。"],
          ["Poetry?—It is you.", "诗？——就是你。"]
        ]
      },

      /* 130 意大利 · 但丁（神曲·地狱篇） */
      {
        id: 130,
        title: { en: "Inferno I (opening)", zh: "地狱篇 第一歌（开头）" },
        author: { en: "Dante Alighieri", zh: "但丁·阿利吉耶里" },
        country: "意大利",
        type: ["人生哲理","历史","宗教与灵性"],
        content: [
          ["Midway along the journey of our life", "在人生旅程的中途，"],
          ["I found myself within a shadowed wood,", "我发现自己置身幽暗的森林，"],
          ["For the straight way had been lost.", "因为正道已然迷失。"]
        ]
      },

      /* 131 意大利 · 莱奥帕尔迪 */
      {
        id: 131,
        title: { en: "The Infinite", zh: "无垠" },
        author: { en: "Giacomo Leopardi", zh: "贾科莫·莱奥帕尔迪" },
        country: "意大利",
        type: ["自然","人生哲理"],
        content: [
          ["This lonely hill was always dear to me,", "这孤丘一向为我所爱，"],
          ["And this hedge, that hides so much of the farthest horizon;", "篱笆遮住了最远天际的大半；"],
          ["Sitting and gazing, imagination fashions endless spaces beyond.", "我坐而凝望，心把无垠之境想象于彼岸。"]
        ]
      },

      /* 132 希腊 · 荷马（奥德赛） */
      {
        id: 132,
        title: { en: "The Odyssey (invocation)", zh: "奥德赛（缪斯祈祷）" },
        author: { en: "Homer", zh: "荷马" },
        country: "希腊",
        type: ["历史","自由","思乡"],
        content: [
          ["Sing, Muse, of the man of many ways,", "歌唱吧，缪斯，那多变之人，"],
          ["Who wandered far after he sacked Troy,", "他劫后远游，陷落特洛伊之后，"],
          ["Seeking home across the wine-dark sea.", "沿着葡萄酒色的海寻路归家。"]
        ]
      },

      /* 133 希腊 · 萨福（碎片31） */
      {
        id: 133,
        title: { en: "Fragment 31", zh: "碎片 31" },
        author: { en: "Sappho", zh: "萨福" },
        country: "希腊",
        type: ["爱情","人生哲理"],
        content: [
          ["He seems to me equal to the gods,", "在我看来他几与神比肩，"],
          ["The man who sits before you and listens", "那坐在你面前听你说话的人，"],
          ["To your sweet voice and lovely laughter.", "听你甜美的声音与笑。"]
        ]
      },

      /* 134 俄罗斯 · 莱蒙托夫 */
      {
        id: 134,
        title: { en: "The Sail", zh: "孤帆" },
        author: { en: "Mikhail Lermontov", zh: "米哈伊尔·莱蒙托夫" },
        country: "俄罗斯",
        type: ["思乡","自由","人生哲理"],
        content: [
          ["A lonely white sail shows in the blue of the sea!", "海天青处，一面孤帆微现！"],
          ["What seeks it in a land so far? what left behind?", "它远赴何求？它又遗落何物？"],
          ["The wind is playful, the waves are bright—", "风嬉浪耀——"],
          ["But it seeks a storm, as if in storm there is peace.", "它却寻风暴，仿佛风暴里才有安宁。"]
        ]
      },

      /* 135 德国 · 里尔克（豹） */
      {
        id: 135,
        title: { en: "The Panther (excerpt)", zh: "豹（节选）" },
        author: { en: "Rainer Maria Rilke", zh: "赖内·马利亚·里尔克" },
        country: "德国",
        type: ["自然","人生哲理","审美"],
        content: [
          ["His gaze has grown so weary from the bars,", "铁栏让它的目光疲惫，"],
          ["That nothing holds it now—", "如今万物难以挽留——"],
          ["It seems to pass through thousands bars,", "它好像看见千重铁栏，"],
          ["And there is no world beyond.", "而栏外已无世界。"]
        ]
      },

      /* 136 伊朗 · 鲁米 */
      {
        id: 136,
        title: { en: "The Guest House", zh: "客舍（意译）" },
        author: { en: "Jalāl ad-Dīn Rūmī", zh: "贾拉勒丁·鲁米" },
        country: "伊朗",
        type: ["人生哲理","宗教与灵性"],
        content: [
          ["This being human is a guest house:", "做一个人，便是经营一座客舍："],
          ["Every morning a new arrival.", "每天清晨，总有新客登门。"],
          ["Welcome and entertain them all—", "欢迎他们，招待他们——"],
          ["Even if they are a crowd of sorrows.", "即便他们是悲伤的一群。"]
        ]
      },
    ]

  
    /* ========== 扩展诗库（更多国家 & 诗人） ========== */
    const EXTRA_POEMS = [
      {
        id: 101,
        title: { en: "Stopping by Woods on a Snowy Evening", zh: "在一个雪夜林边驻足" },
        author: { en: "Robert Frost", zh: "罗伯特·弗罗斯特" },
        country: "美国",
        type: ["自然","人生哲理"],
        content: [
          ["Whose woods these are I think I know.", "我想我知道这些树林是谁的。"],
          ["His house is in the village though;", "他的房子却在村子里；"],
          ["He will not see me stopping here", "他不会看到我在此驻足，"],
          ["To watch his woods fill up with snow.", "看着树林渐被白雪填满。"],
          ["My little horse must think it queer", "我的小马一定觉得奇怪，"],
          ["To stop without a farmhouse near", "四下无屋还要停下来，"],
          ["Between the woods and frozen lake", "在林子与冻湖之间，"],
          ["The darkest evening of the year.", "在一年中最黑的夜里。"],
          ["He gives his harness bells a shake", "它把辔铃摇得当啷作响，"],
          ["To ask if there is some mistake.", "仿佛在问：是不是弄错了？"],
          ["The only other sound's the sweep", "此外只剩一种声音，轻拂而过，"],
          ["Of easy wind and downy flake.", "那是和风与绒雪的扫拂。"],
          ["The woods are lovely, dark and deep,", "树林可爱，幽暗而深邃，"],
          ["But I have promises to keep,", "但我仍有约要履行，"],
          ["And miles to go before I sleep,", "在入睡之前还有千里要走，"],
          ["And miles to go before I sleep.", "在入睡之前还有千里要走。"]
        ]
      },
      {
        id: 102,
        title: { en: "Sea-Fever", zh: "海的渴望" },
        author: { en: "John Masefield", zh: "约翰·梅斯菲尔德" },
        country: "英国",
        type: ["自然","自由"],
        content: [
          ["I must go down to the seas again, to the lonely sea and the sky,", "我又得下海去了，向那孤独的海与天，"],
          ["And all I ask is a tall ship and a star to steer her by;", "我所求不过一艘高桅船与一颗指路的星；"],
          ["And the wheel's kick and the wind's song and the white sail's shaking,", "要舵轮的跳动、风的歌、白帆的战栗，"],
          ["And a grey mist on the sea's face, and a grey dawn breaking.", "以及海面灰雾与破晓的灰光。"],
          ["I must go down to the seas again, for the call of the running tide", "我又得下海去了，因为奔潮在召唤，"],
          ["Is a wild call and a clear call that may not be denied;", "那野性而清亮的呼唤无法拒绝；"],
          ["And all I ask is a windy day with the white clouds flying,", "我所求不过有风的一天，白云飞扬，"],
          ["And the flung spray and the blown spume, and the sea-gulls crying.", "飞溅的浪沫、卷起的泡沫、海鸥的叫声。"],
          ["I must go down to the seas again, to the vagrant gypsy life,", "我又得下海去了，过那浪游的吉普赛人生，"],
          ["To the gull's way and the whale's way, where the wind's like a whetted knife;", "走海鸥与鲸鱼之路，那里风像磨快的刀；"],
          ["And all I ask is a merry yarn from a laughing fellow-rover,", "我所求不过伙伴的笑谈一段，"],
          ["And quiet sleep and a sweet dream when the long trick's over.", "以及值夜结束后的安睡与好梦。"]
        ]
      },
      {
        id: 103,
        title: { en: "The New Colossus", zh: "新巨人" },
        author: { en: "Emma Lazarus", zh: "艾玛·拉撒路" },
        country: "美国",
        type: ["自由","历史"],
        content: [
          ["Not like the brazen giant of Greek fame,", "并非希腊传说中的铜巨人，"],
          ["With conquering limbs astride from land to land;", "跨海而立、四分天下；"],
          ["Here at our sea-washed, sunset gates shall stand", "在这濒海的落日门楣处，将伫立"],
          ["A mighty woman with a torch, whose flame", "一位手擎火炬的伟岸女子，她的火焰"],
          ["Is the imprisoned lightning, and her name", "是被囚的闪电，她的名字是"],
          ["Mother of Exiles. From her beacon-hand", "流亡者之母。从她的灯塔之手"],
          ["Glows world-wide welcome; her mild eyes command", "迸发世界的欢迎；她温和的双眼俯瞰"],
          ["The air-bridged harbor that twin cities frame.", "那由双城拱起的飞桥港湾。"],
          ["\"Keep, ancient lands, your storied pomp!\" cries she", "“古老的国度啊，留着你们的辉煌！”她"],
          ["With silent lips. \"Give me your tired, your poor,", "以无声的唇这样喊道，“把你们疲惫的、贫穷的，"],
          ["Your huddled masses yearning to breathe free,", "把蜷缩着渴望自由呼吸的群体，"],
          ["The wretched refuse of your teeming shore.", "把那喧闹海岸的可怜弃民都送来。"],
          ["Send these, the homeless, tempest-tost to me,", "把这些无家之人、被风暴颠簸的人交给我，"],
          ["I lift my lamp beside the golden door!\"", "我在金色的门旁高举灯火！”"]
        ]
      },
      {
        id: 104,
        title: { en: "In Flanders Fields", zh: "在佛兰德斯的原野上" },
        author: { en: "John McCrae", zh: "约翰·麦克雷" },
        country: "加拿大",
        type: ["战争","思乡"],
        content: [
          ["In Flanders fields the poppies blow,", "在佛兰德斯的原野上，罂粟花开，"],
          ["Between the crosses, row on row,", "十字架一行又一行，"],
          ["That mark our place; and in the sky", "标记着我们的所在；而在空中"],
          ["The larks, still bravely singing, fly", "云雀仍勇敢地歌唱飞翔，"],
          ["Scarce heard amid the guns below.", "只是枪炮之下几乎听不见。"],
          ["We are the Dead. Short days ago", "我们是死者。不久之前，"],
          ["We lived, felt dawn, saw sunset glow,", "我们还活着，感受黎明，看见晚霞，"],
          ["Loved and were loved, and now we lie", "爱着也被爱着，而今我们长眠"],
          ["In Flanders fields.", "在佛兰德斯的原野。"],
          ["Take up our quarrel with the foe:", "接过我们与敌人的争斗吧："],
          ["To you from failing hands we throw", "从垂落的手里，我们把火炬抛给你们，"],
          ["The torch; be yours to hold it high.", "由你们高高举起它。"],
          ["If ye break faith with us who die", "若你们对我们这些死者失信，"],
          ["We shall not sleep, though poppies grow", "纵有罂粟盛开，我们也不能安睡——"],
          ["In Flanders fields.", "在佛兰德斯的原野。"]
        ]
      },
      {
        id: 105,
        title: { en: "How Do I Love Thee? (Sonnet 43)", zh: "我如何爱你？（第43首十四行诗）" },
        author: { en: "Elizabeth Barrett Browning", zh: "伊丽莎白·巴雷特·勃朗宁" },
        country: "英国",
        type: ["爱情"],
        content: [
          ["How do I love thee? Let me count the ways.", "我如何爱你？让我细数其法。"],
          ["I love thee to the depth and breadth and height", "我爱你到灵魂所能伸抵的"],
          ["My soul can reach, when feeling out of sight", "深、广与高，当它摸索"],
          ["For the ends of Being and ideal Grace.", "存在与理想恩典的尽头。"],
          ["I love thee to the level of everyday's", "我爱你到日常生活最静的需要，"],
          ["Most quiet need, by sun and candlelight.", "无论阳光照耀，抑或烛光微明。"],
          ["I love thee freely, as men strive for Right;", "我自由地爱你，如人们为正义而奋斗；"],
          ["I love thee purely, as they turn from Praise.", "我纯粹地爱你，如他们远离赞誉。"],
          ["I love thee with the passion put to use", "我以激情爱你，把旧日的哀愁化用，"],
          ["In my old griefs, and with my childhood's faith.", "并以童年的信心爱你。"],
          ["I love thee with a love I seemed to lose", "我以似乎曾失去的爱来爱你，"],
          ["With my lost saints,—I love thee with the breath,", "那随圣徒逝去的爱——我以一生的"],
          ["Smiles, tears, of all my life!—and, if God choose,", "呼吸、微笑与泪水来爱你；若上帝愿意，"],
          ["I shall but love thee better after death.", "死后我将更深地爱你。"]
        ]
      },
      {
        id: 106,
        title: { en: "A Poison Tree", zh: "一棵毒树" },
        author: { en: "William Blake", zh: "威廉·布莱克" },
        country: "英国",
        type: ["人生哲理"],
        content: [
          ["I was angry with my friend;", "我曾对朋友生气；"],
          ["I told my wrath, my wrath did end.", "我说出怒气，它便消退。"],
          ["I was angry with my foe:", "我曾对仇敌生气："],
          ["I told it not, my wrath did grow.", "我不说，于是怒气滋长。"],
          ["And I watered it in fears,", "我以恐惧浇灌它，"],
          ["Night and morning with my tears;", "日夜用泪水灌溉；"],
          ["And I sunned it with smiles,", "又以微笑照晒它，"],
          ["And with soft deceitful wiles.", "加上柔软却欺骗的招法。"],
          ["And it grew both day and night,", "它日夜生长，"],
          ["Till it bore an apple bright;", "直至结出一枚明亮的苹果；"],
          ["And my foe beheld it shine,", "我的仇敌看见它在发光，"],
          ["And he knew that it was mine,", "他知道那是我的；"],
          ["And into my garden stole", "他潜入我的花园，"],
          ["When the night had veiled the pole;", "当夜色遮蔽北极之时；"],
          ["In the morning glad I see", "清晨我欢喜看见——"],
          ["My foe outstretched beneath the tree.", "我的仇敌仰面倒在树下。"]
        ]
      },
      {
        id: 107,
        title: { en: "The Red Wheelbarrow", zh: "红色手推车" },
        author: { en: "William Carlos Williams", zh: "威廉·卡洛斯·威廉斯" },
        country: "美国",
        type: ["自然"],
        content: [
          ["so much depends", "太多事情取决于"],
          ["upon", "那在于"],
          ["a red wheel", "一辆红色的手推"],
          ["barrow", "车，"],
          ["glazed with rain", "雨水给它上了"],
          ["water", "一层光釉，"],
          ["beside the white", "在白色的"],
          ["chickens", "鸡群旁。"]
        ]
      },
      {
        id: 108,
        title: { en: "To His Coy Mistress", zh: "致他羞怯的情人（节选）" },
        author: { en: "Andrew Marvell", zh: "安德鲁·玛维尔" },
        country: "英国",
        type: ["爱情","人生哲理"],
        content: [
          ["Had we but world enough, and time,", "假如我们拥有足够的世界与时间，"],
          ["This coyness, lady, were no crime.", "你的矜持，夫人，也就无罪。"],
          ["We would sit down and think which way", "我们可以坐下思量该走哪条路，"],
          ["To walk and pass our long love's day.", "把漫长的恋日从容打发。"],
          ["Thou by the Indian Ganges' side", "你可以在恒河之畔采寻红玉，"],
          ["Shouldst rubies find; I by the tide", "而我在亨伯河边倾诉悲怨；"],
          ["Of Humber would complain. I would", "我会在洪水之前十年便爱你，"],
          ["Love you ten years before the flood,", "你愿意的话，可以拒我直到万世回头；"],
          ["And you should, if you please, refuse", "但我背后总听见"],
          ["Till the conversion of the Jews.", "时间驾着长翅的战车疾驰而来；"],
          ["But at my back I always hear", "在我们面前，是无垠的永恒荒原，"],
          ["Time's wingèd chariot hurrying near;", "那里再无美貌、也无歌喉可闻。"]
        ]
      },
      {
        id: 109,
        title: { en: "On His Blindness", zh: "论我的失明" },
        author: { en: "John Milton", zh: "约翰·弥尔顿" },
        country: "英国",
        type: ["人生哲理","宗教与灵性"],
        content: [
          ["When I consider how my light is spent,", "当我想到光明已耗尽，"],
          ["Ere half my days, in this dark world and wide,", "未及半生，我却置身于这幽暗广大的世间；"],
          ["And that one talent which is death to hide", "那份藏不得的才干"],
          ["Lodged with me useless, though my soul more bent", "寄寓我身却无所施展，我的灵魂反更倾向"],
          ["To serve therewith my Maker, and present", "用它来事奉造物主，并呈上"],
          ["My true account, lest he returning chide;", "我的真实账目，免得他归来责备；"],
          ["\"Doth God exact day-labour, light denied?\"", "“上帝会索取白日劳作，既剥我光明？”"],
          ["I fondly ask. But Patience, to prevent", "我愚问。然耐心为遏止那怨言，"],
          ["That murmur, soon replies, \"God doth not need", "旋即答道：“上帝不需人的工作，"],
          ["Either man's work or his own gifts; who best", "亦不需他自己的礼物；谁最善于"],
          ["Bear his mild yoke, they serve him best. His state", "承担他温和的轭，谁便服侍得最好。"],
          ["Is kingly: thousands at his bidding speed", "他的国度如王者：千万人奉命疾行，"],
          ["And post o'er land and ocean without rest;", "奔走陆海，永不停歇；"],
          ["They also serve who only stand and wait.\"", "但那些仅仅站着等待的人，也是服侍。”"]
        ]
      },
      {
        id: 110,
        title: { en: "The Soldier", zh: "士兵" },
        author: { en: "Rupert Brooke", zh: "鲁珀特·布鲁克" },
        country: "英国",
        type: ["战争","思乡"],
        content: [
          ["If I should die, think only this of me:", "若我死去，请只这样想我："],
          ["That there's some corner of a foreign field", "在异国的战场有一个角落，"],
          ["That is for ever England. There shall be", "将永远属于英格兰。那里"],
          ["In that rich earth a richer dust concealed;", "在沃土之下，埋着更富的尘；"],
          ["A dust whom England bore, shaped, made aware,", "那尘是英格兰生的、塑的、使之觉悟的，"],
          ["Gave, once, her flowers to love, her ways to roam,", "曾经她把花朵给他爱，把道路给他行；"],
          ["A body of England's, breathing English air,", "一具英格兰的躯体，呼吸英格兰的空气，"],
          ["Washed by the rivers, blest by suns of home.", "被故土的河水濯洗，受故乡的阳光祝福。"],
          ["And think, this heart, all evil shed away,", "再想，这颗心，已拂去一切邪恶，"],
          ["A pulse in the eternal mind, no less", "成了永恒心灵中的一次跳动，"],
          ["Gives somewhere back the thoughts by England given;", "把英格兰给予的思想奉还："],
          ["Her sights and sounds; dreams happy as her day;", "她的景与声；她白昼般幸福的梦；"],
          ["And laughter, learnt of friends; and gentleness,", "从友人处学来的笑声；温柔；"],
          ["In hearts at peace, under an English heaven.", "在安宁的心里，置身英伦天穹之下。"]
        ]
      },
      {
        id: 111,
        title: { en: "Where the Mind is Without Fear", zh: "当心灵无所畏惧" },
        author: { en: "Rabindranath Tagore", zh: "拉宾德拉纳特·泰戈尔" },
        country: "印度",
        type: ["自由","人生哲理"],
        content: [
          ["Where the mind is without fear and the head is held high;", "当心灵无所畏惧，头颅可以高昂；"],
          ["Where knowledge is free;", "当知识自由流布；"],
          ["Where the world has not been broken up into fragments", "当世界不再被割裂为碎片"],
          ["By narrow domestic walls;", "被狭隘的藩篱所分隔；"],
          ["Where words come out from the depth of truth;", "当言词来自真理的深处；"],
          ["Where tireless striving stretches its arms towards perfection;", "当不懈的追求伸向完美；"],
          ["Where the clear stream of reason has not lost its way", "当清明的理性之流不致迷途，"],
          ["Into the dreary desert sand of dead habit;", "坠入死习的沉沙荒漠；"],
          ["Where the mind is led forward by thee", "当你引领心灵不断向前，"],
          ["Into ever-widening thought and action—", "迈向更开阔的思想与行动——"],
          ["Into that heaven of freedom, my Father, let my country awake.", "在那自由的天国里，父啊，让我的祖国醒来。"]
        ]
      },
      {
        id: 112,
        title: { en: "Rubaiyat (Selected Quatrains)", zh: "鲁拜集（选段）" },
        author: { en: "Omar Khayyam / trans. Edward FitzGerald", zh: "奥马尔·海亚姆 / 费兹杰拉德英译" },
        country: "伊朗",
        type: ["人生哲理","自然"],
        content: [
          ["A Book of Verses underneath the Bough,", "树荫下有一册诗，"],
          ["A Jug of Wine, a Loaf of Bread—and Thou", "一壶酒，一块面包——还有你"],
          ["Beside me singing in the Wilderness—", "在这荒野与我相伴——"],
          ["Oh, Wilderness were Paradise enow!", "啊，这荒野便已足以成天堂！"],
          ["The Moving Finger writes; and, having writ,", "移动的手指一写便走，"],
          ["Moves on: nor all your Piety nor Wit", "纵有虔诚与智慧"],
          ["Shall lure it back to cancel half a Line,", "也唤不回它删去半行，"],
          ["Nor all your Tears wash out a Word of it.", "纵有千行泪水也洗不掉一字。"]
        ]
      },
      {
        id: 113,
        title: { en: "My Country (excerpt)", zh: "我的祖国（节选）" },
        author: { en: "Dorothea Mackellar", zh: "多萝西娅·麦凯勒" },
        country: "澳大利亚",
        type: ["思乡","自然"],
        content: [
          ["I love a sunburnt country,", "我爱一片被日灼的国土，"],
          ["A land of sweeping plains,", "一望无际的平原，"],
          ["Of ragged mountain ranges,", "峻峭破碎的山脉，"],
          ["Of droughts and flooding rains.", "干旱与暴雨交替。"],
          ["I love her far horizons,", "我爱她那远远的天际，"],
          ["I love her jewel-sea,", "我爱她那宝石般的海，"],
          ["Her beauty and her terror—", "她的美，她的险——"],
          ["The wide brown land for me!", "这片褐色的大地属于我。"]
        ]
      },
      {
        id: 114,
        title: { en: "Not Understood (excerpt)", zh: "无人理解（节选）" },
        author: { en: "Thomas Bracken", zh: "托马斯·布拉肯" },
        country: "新西兰",
        type: ["人生哲理"],
        content: [
          ["Not understood, we move along;", "无人理解，我们仍前行；"],
          ["Amid a world of storm and song,", "在这风暴与歌声的世界之中，"],
          ["Still hoping, longing, wondering why", "仍怀着希望、渴望、困惑——"],
          ["We live and die, and such as I", "为何我们如此生、如此死，像我这样的"],
          ["Are never understood.", "总是无人理解。"],
          ["Not understood, we gather false", "无人理解，便据外表妄下结论；"],
          ["Conclusions from the sight of faults;", "我们凭模糊所见来评判——"],
          ["We judge by what is dimly seen—", "不是依据我们是谁，而是过去曾为何人——"],
          ["Not what we are, but what have been—", "我们按过去而非当下来判断——"],
          ["Not understood.", "无人理解。"]
        ]
      }
    ];


/* 追加到主库 */
poetryDatabase.push(...EXTRA_POEMS);
/* （可选）如果你已经加了本地持久化 saveDBToLocal()，可以顺手保存一下： */
// try{ saveDBToLocal&&saveDBToLocal(); }catch(e){}


    // ========== DOM 引用 ==========
    const poemTitleEn = document.getElementById('poem-title-en');
    const poemTitleZh = document.getElementById('poem-title-zh');
    const poemAuthorEn = document.getElementById('poem-author-en');
    const poemAuthorZh = document.getElementById('poem-author-zh');
    const poetryContent = document.getElementById('poetry-content');
    const poetryMeta = document.getElementById('poetry-meta');
    const randomButton = document.getElementById('random-button');
    const searchButton = document.getElementById('search-button');
    const clearButton = document.getElementById('clear-button');
    const searchTerm = document.getElementById('search-term');
    const poetryType = document.getElementById('poetry-type');
    const authorCountry = document.getElementById('author-country');
    const poetryLength = document.getElementById('poetry-length');
    const copyButton = document.getElementById('copy-button');
    const importBtn = document.getElementById('import-button');
    const exportBtn = document.getElementById('export-button');
    const importFile = document.getElementById('import-file');

    const toastEl = document.getElementById('toast');
    const yearEl = document.getElementById('year');

    let currentPoem = null;

    // ========== 工具函数 ==========
    function showToast(msg){
      if(!toastEl) return;
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      setTimeout(()=>toastEl.classList.remove('show'), 1400);
    }
    function setYear(){ if(yearEl) yearEl.textContent = new Date().getFullYear(); }

    // ========== 展示诗歌 ==========
    function displayPoetry(poem){
      if(!poem) return;
      currentPoem = poem;
      // 清空
      poetryContent.innerHTML = '';
      poetryMeta.innerHTML = '';

      // 标题与作者
      poemTitleEn.textContent = poem.title.en;
      poemTitleZh.textContent = `《${poem.title.zh}》`;
      poemAuthorEn.textContent = poem.author.en;
      poemAuthorZh.textContent = poem.author.zh;

      // 内容
      poem.content.forEach((pair, i)=>{
        const linePair = document.createElement('div');
        linePair.className = 'line-pair';
        linePair.style.animationDelay = `${i * 0.06}s`;

        const en = document.createElement('div');
        en.className = 'english-line';
        en.textContent = pair[0];

        const zh = document.createElement('div');
        zh.className = 'chinese-line';
        zh.textContent = pair[1];

        linePair.appendChild(en);
        linePair.appendChild(zh);
        poetryContent.appendChild(linePair);
      });

      // 元数据
      const countryMeta = document.createElement('div');
      countryMeta.className = 'meta-item';
      countryMeta.textContent = `国籍：${poem.country}`;
      const typeMeta = document.createElement('div');
      typeMeta.className = 'meta-item';
      typeMeta.textContent = `类型：${poem.type.join('、')}`;
      const lengthMeta = document.createElement('div');
      lengthMeta.className = 'meta-item';
      lengthMeta.textContent = `行数：${poem.content.length}`;

      poetryMeta.appendChild(countryMeta);
      poetryMeta.appendChild(typeMeta);
      poetryMeta.appendChild(lengthMeta);

      // 标题栏 & 可分享
      document.title = `${poem.title.en} · ${poem.title.zh} — 经典外文诗歌推荐`;
      location.hash = `id=${poem.id}`;
      try{ localStorage.setItem('lastPoemId', String(poem.id)); }catch(e){}

      // 滚动到卡片
      document.getElementById('poetry-card')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // ========== 随机 ==========
    function getRandomPoetry(){
      return poetryDatabase[Math.floor(Math.random() * poetryDatabase.length)];
    }

    // ========== 搜索 ==========
    function searchPoetry(){
      const term = (searchTerm.value || '').toLowerCase().trim();
      const type = poetryType.value;
      const country = authorCountry.value;
      const length = poetryLength.value;

      const results = poetryDatabase.filter(poem=>{
        const matchesTerm = !term ||
          poem.title.en.toLowerCase().includes(term) ||
          poem.title.zh.includes(term) ||
          poem.author.en.toLowerCase().includes(term) ||
          poem.author.zh.includes(term) ||
          poem.content.some(line =>
            line[0].toLowerCase().includes(term) || line[1].includes(term)
          );

        const matchesType = !type || poem.type.includes(type);
        const matchesCountry = !country || poem.country === country;

        let matchesLength = true;
        if (length === 'short') matchesLength = poem.content.length <= 12;
        else if (length === 'medium') matchesLength = poem.content.length > 12 && poem.content.length <= 24;
        else if (length === 'long') matchesLength = poem.content.length >= 25;

        return matchesTerm && matchesType && matchesCountry && matchesLength;
      });

      if(results.length){
        displayPoetry(results[Math.floor(Math.random() * results.length)]);
      }else{
        showToast('没有找到匹配的诗歌，试试改改条件～');
      }
    }

    // ========== 清除 ==========
    function clearFilters(){
      searchTerm.value = '';
      poetryType.value = '';
      authorCountry.value = '';
      poetryLength.value = '';
      displayPoetry(getRandomPoetry());
      searchTerm.focus();
    }

    // ========== 复制 ==========
    async function copyPoetry(){
      const title = `${poemTitleEn.textContent} | ${poemTitleZh.textContent}`;
      const author = `${poemAuthorEn.textContent} | ${poemAuthorZh.textContent}`;
      let content = `诗名双语｜${title}\n作者双语｜${author}\n—— 逐句对照 ——\n`;
      document.querySelectorAll('.line-pair').forEach(lp=>{
        const en = lp.querySelector('.english-line')?.textContent ?? '';
        const zh = lp.querySelector('.chinese-line')?.textContent ?? '';
        content += `${en}\n${zh}\n`;
      });

      try{
        await navigator.clipboard.writeText(content);
        showToast('已复制到剪贴板');
      }catch(err){
        // 兼容旧环境
        try{
          const ta = document.createElement('textarea');
          ta.value = content;
          ta.style.position='fixed'; ta.style.opacity='0';
          document.body.appendChild(ta);
          ta.focus(); ta.select();
          document.execCommand('copy');
          document.body.removeChild(ta);
          showToast('已复制（兼容模式）');
        }catch(e){
          showToast('复制失败，请手动复制');
        }
      }
    }

    // ========== 初始化 ==========
    function initFromHashOrStorage(){
      const m = location.hash.match(/id=(\d+)/);
      let poem = null;
      if(m && m[1]){
        poem = poetryDatabase.find(p=>String(p.id) === m[1]);
      }
      if(!poem){
        try{
          const lastId = localStorage.getItem('lastPoemId');
          if(lastId) poem = poetryDatabase.find(p=>String(p.id) === lastId);
        }catch(e){}
      }
      return poem || getRandomPoetry();
    }

    function bindEvents(){
      randomButton.addEventListener('click', ()=>displayPoetry(getRandomPoetry()));
      searchButton.addEventListener('click', searchPoetry);
      clearButton.addEventListener('click', clearFilters);
      copyButton.addEventListener('click', copyPoetry);
      // Enter 回车触发搜索
      searchTerm.addEventListener('keydown', e=>{ if(e.key === 'Enter') searchPoetry(); });
    }

    // DOM 就绪
    document.addEventListener('DOMContentLoaded', ()=>{
      setYear();
      bindEvents();
      displayPoetry(initFromHashOrStorage());
    });
    /* ========== 导入 / 导出辅助 ========== */

// 取当前库的最大 id，用于给新诗分配 id
function getMaxId(){
  return poetryDatabase.reduce((max,p)=>Math.max(max, Number(p.id)||0), 0);
}

// 合并外部诗数组到 poetryDatabase，自动去重（按 英文标题+英文作者）
function mergePoems(list){
  if(!Array.isArray(list)) throw new Error('导入数据必须是数组');
  const keyOf = p => ((p?.title?.en || '') + '|' + (p?.author?.en || '')).toLowerCase().trim();
  const existingKeys = new Set(poetryDatabase.map(keyOf));
  let added = 0, skipped = 0, nextId = getMaxId() + 1;

  list.forEach(src=>{
    try{
      // 基本字段校验与清洗
      const poem = {
        id: Number.isFinite(src.id) ? src.id : nextId++,
        title: { en: String(src.title?.en || '').trim(), zh: String(src.title?.zh || '').trim() },
        author:{ en: String(src.author?.en||'').trim(), zh: String(src.author?.zh||'').trim() },
        country: String(src.country || '').trim(),
        type: Array.isArray(src.type) ? src.type.map(String) : [],
        content: Array.isArray(src.content) ? src.content.map(pair => [String(pair[0]||''), String(pair[1]||'')]) : []
      };
      if(!poem.title.en || !poem.author.en || poem.content.length === 0){ skipped++; return; }

      const k = keyOf(poem);
      if(existingKeys.has(k)){ skipped++; return; }

      poetryDatabase.push(poem);
      existingKeys.add(k);
      added++;
    }catch(e){ skipped++; }
  });

  showToast(`导入完成：新增 ${added} 首，跳过 ${skipped} 首`);
  // 导入后展示刚加入的最后一首，或随机一首
  displayPoetry(poetryDatabase[poetryDatabase.length - 1] || getRandomPoetry());
}

// 触发导入：读取本地 JSON 文件
function handleImportFile(e){
  const file = e.target.files?.[0];
  if(!file){ return; }
  const reader = new FileReader();
  reader.onload = () => {
    try{
      const data = JSON.parse(String(reader.result));
      const list = Array.isArray(data) ? data : (Array.isArray(data.poems) ? data.poems : null);
      if(!list) throw new Error('JSON 顶层应为数组，或 { "poems": [...] }');
      mergePoems(list);
    }catch(err){
      console.error(err);
      showToast('导入失败：JSON 格式不正确');
    }finally{
      importFile.value = ''; // 允许下次选择同一文件
    }
  };
  reader.readAsText(file, 'utf-8');
}

// 导出当前整库为 JSON 文件（下载）
function exportCurrentDB(){
  const dataStr = JSON.stringify(poetryDatabase, null, 2);
  const blob = new Blob([dataStr], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'poems-export.json';
  document.body.appendChild(a);
  a.click();
  URL.revokeObjectURL(url);
  a.remove();
  showToast('已下载 poems-export.json');
}
// 单独再绑一次，不改原 bindEvents
document.addEventListener('DOMContentLoaded', ()=>{
  importBtn?.addEventListener('click', ()=> importFile.click());
  importFile?.addEventListener('change', handleImportFile);
  exportBtn?.addEventListener('click', exportCurrentDB);
});

  </script>
</body>
</html>
